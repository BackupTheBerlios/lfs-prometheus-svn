2004-09-15 Gareth Jones <gareth_jones@users.berlios.de>

	* testsuite/libprometheus/log: Added tnlycp_status, tnlycp_stdout,
	  tnlycp_stderr, tnlycp_log, tnlycp_log.txt, tnlncf_status,
	  tnlncf_stdout, tnlncf_stderr, tnlncf_stderr.txt, tnlncp_status,
	  tnlncp_stdout, tnlncp_stderr, tylycp_status, tylycp_stdout,
	  tylycp_stderr, tylycp_log, tylycf_status.

2004-09-14 Gareth Jones <gareth_jones@users.berlios.de>

	* testsuite/libprometheus/log: Added tnlycf_status, tnlycf_stdout,
	  tnlycf_stderr, tnlycf_stderr.txt, tnlycf_log & tnlycf_log.txt.

2004-09-13 Gareth Jones <gareth_jones@users.berlios.de>

	* testsuite/libprometheus/log/output.bash: Added.

2004-09-07 Gareth Jones <gareth_jones@users.berlios.de>

	* testsuite/libprometheus/Makefile: Removed unused variables $(PASS) &
	  $(FAIL).

	* testsuite/libprometheus/warning: Added stdout & stderr tests.
	* testsuite/libprometheus/failure: Added stdout & stderr tests.
	* testsuite/libprometheus/error: Added stdout & stderr tests.

	* testsuite/libprometheus/finish/success: Fixed buglet.

	* testsuite/libprometheus/setup_logging/README: Added.
	* testsuite/libprometheus/log/README: Added.

	* scripts/libprometheus.bash.in (setup_logging): Ensure $terminal_output
	  is set.

2004-08-29 Oliver Brakmann <oliverbrakmann@users.berlios.de>

	* scripts/pkgrm.in: Written.
	* man/pkgrm.8.in: Written.

	* man/pkgadd.8.in, man/pkginstall.8.in: Changed man page header to
          correclty reflect section 8 of the man pages.

2004-08-17 Gareth Jones <gareth_jones@users.berlios.de>

	* testsuite/libprometheus/usage_error: Renamed usage_error.bash.in to
	  stderr.bash.in.
	* testsuite/libprometheus/usage_error: Added stdout.bash.in &
	  status.bash.in.
	* testsuite/libprometheus/script_usage_err: Renamed
	  script_usage_err.bash.in to stderr.bash.in.
	* testsuite/libprometheus/script_usage_err: Added stdout.bash.in &
	  status.bash.in.

	* testsuite/runtest: Removed.
	* testsuite/runtest.in: Added.
	* testsuite/TEMPLATE: Added.
	* testsuite/*: Updated for new script.

2004-08-16 Gareth Jones <gareth_jones@users.berlios.de>

	* testsuite/libprometheus/Makefile: Made test descriptions more useful.

	* testsuite/libprometheus/setup_logging/*: Added.

2004-08-15 Gareth Jones <gareth_jones@users.berlios.de>

	* Makefile: Added building testsuite & check target.
	* testsuite/Makefile: Added.
	* testsuite/README: Added.

	* testsuite/runtest: Added.
	* testsuite/runtest: Fixed to run in tests' own directories.
	* testsuite/runtest: Added logging.

	* testsuite/libprometheus/Makefile: Added.
	* testsuite/libprometheus/finish/success.bash.in: Added.
	* testsuite/libprometheus/finish/failure.bash.in: Added.
	* testsuite/libprometheus/terminated/terminated.bash.in: Added.
	* testsuite/libprometheus/pipestat/*: Added.
	* testsuite/libprometheus/warning/*: Added.
	* testsuite/libprometheus/failure/*: Added.
	* testsuite/libprometheus/error/*: Added.
	* testsuite/libprometheus/usage_error/*: Added.
	* testsuite/libprometheus/script_usage_err/*: Added.

2004-08-12 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/pkgunpack.in (unpack_archives): Make sure build directories
	  exist.

	* scripts/pkginstall.in (cleanup_failed): Added FIXME for restoring
	  backups.

2004-08-06 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/pkgadd.in: Added -f/--leave-files option.
	* man/pkgadd.8.in: Documented -f/--leave-files option.

	* All files: Changed Oliver's email address to
	  <oliverbrakmann@users.berlios.de>.

2004-08-05 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/pkgadd.in (get_package_list): Dependency checking is
	  actually skipped if $stage < 2.

	* man/pkginstall.8.in: Added note about restoring a backed-up package
	  after a failed installation.

	* man/pkgadd.8.in: Written.

	* scripts/libprometheus.bash.in (set_directory): Build packages in
	  $builddir/$package ($package_builddir) instead of $builddir.
	* scripts/pkgunpack.in: Use $package_builddir where appropriate.
	* scripts/pkgadd.in: Remove $package_builddir if installation
	  successful.

2004-08-04 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/pkgadd.in: Dependency checking implemented.

	* scripts/libprometheus.bash.in (remove_dupes): Added.
	* scripts/compact.in: Removes duplicate file/directory arguments.
	* scripts/pkgget.in: Removes duplicate package arguments.
	* scripts/pkgunpack.in: Removes duplicate package arguments.
	* scripts/pkgbuild.in: Removes duplicate package arguments.
	* scripts/pkgcheck.in: Removes duplicate package arguments.
	* scripts/pkginstall.in: Removes duplicate package arguments.

	* scripts/libprometheus.bash.in: Added get_deps, get_dependencies,
	  get_profile_var, get_profile_array & echo_array.
	* scripts/libprometheus.bash.in (override_array): Much simplified.

2004-08-03 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in (source_profile, open_package): Takes
	  package as argument instead of profile.  Searches current working
	  directory before profile directory.
	* scripts/libprometheus.bash.in: Removed find_profiles, add_profiles,
	  $profile_list & $package_list.
	* scripts/pkgget.in: Updated profile handling.
	* scripts/pkgunpack.in: Updated profile handling.
	* scripts/pkgbuild.in: Updated profile handling.
	* scripts/pkgcheck.in: Updated profile handling.
	* scripts/pkginstall.in: Updated profile handling.
	* scripts/pkgadd.in: Updated profile handling.
	* man/pkgget.1.in: Updated.
	* man/pkgunpack.1.in: Updated.
	* man/pkgbuild.1.in: Updated.
	* man/pkgcheck.1.in: Updated.
	* man/pkginstall.8.in: Updated.

	* scripts/pkgget.in: Download files to $srcdir, not current working
	  directory.
	* scripts/libprometheus.bash.in (location_of): Only search $srcdir, not
	  $builddir.

	* scripts/libprometheus.bash.in (source_profile): Only search current
	  working directory if $profiles_cwd is `yes'.
	* scripts/pkgget.in: Updated profile handling.
	* scripts/pkgunpack.in: Updated profile handling.
	* scripts/pkgbuild.in: Updated profile handling.
	* scripts/pkgcheck.in: Updated profile handling.
	* scripts/pkginstall.in: Updated profile handling.
	* scripts/pkgadd.in: Updated profile handling.

	* etc/prometheus.conf: Added $backupdir.
	* man/prometheus.conf.5.in: Documented $backupdir.
	* scripts/pkginstall.in: Added add_version_entry.  Now restores backed
	  up uninstalls if installation fails.

2004-08-02 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in (add_profile): Fixed bug & added
	  $package_list.

	* scripts/libprometheus.bash.in: log_echo & log_warning now always
	  output to the terminal as well as any log.

	* scripts/pkgadd.in: Skeleton written.

	* scripts/libprometheus.bash.in: Removed $temp_files, temp_file &
	  remove_tempfiles.

2004-08-01 Gareth Jones <gareth_jones@users.berlios.de>

	* man/pkgunpack.1.in: Written.

	* man/prometheus.conf.5.in: Ammended for new logging options.

	* scripts/pkgbuild.in: Written.
	* man/pkgbuild.1.in: Written.

	* scripts/libprometheus.bash.in: Added log_echo & log_warning.

	* scripts/pkgcheck.in: Written.
	* man/pkgcheck.1.in: Written.

	* scripts/libprometheus.bash.in (choice): Added.

	* scripts/libprometheus.bash.in: Move setting $name from open_package to
	  source_profile.  Added $name_ver & get_installed_version.
	* scripts/pkgcheck.in: $name => $name_ver.
	* scripts/pkgbuild.in: $name => $name_ver.

	* Makefile.defs: Added INSTALL_LOG_RC parameter.
	* etc/Makefile: Added %INSTALL_LOG_RC% substitution for
	  prometheus.conf.in.
	* etc/prometheus.conf.in: Added install_log_rc parameter.
	* man/prometheus.conf.5.in: Documented install_log_rc parameter.
	* scripts/libprometheus.bash.in (source_config): Added setting $logdir,
	  $version_table & $timestamp.

	* scripts/pkginstall.in: Written.
	* man/pkginstall.8.in: Written.

2004-07-31 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in (log): Much simplified, nicer output.

	* scripts/libprometheus.bash.in (pipestat): Added.
	* scripts/pkgunpack.in (apply_patches): Added call to pipestat after
	  `cat | patch' command.

	* scripts/libprometheus.bash.in (setup_logging): Reverted to piping to
	  tee instead of using process substitution, which is no longer needed.
	* scripts/libprometheus.bash.in (log): Added call to pipestat.

	* scripts/libprometheus.bash.in (logged_failure): Added.
	* scripts/libprometheus.bash.in (log): Added call to logged_failure.

2004-07-30 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in (list_files): Removed references to
	  $stage2_{archives,patches}.

	* scripts/libprometheus.bash.in (set_stage): Added.
	* scripts/pkgunpack.in: Changed `stage="$val"' to `set_stage "$val"'.

	* scripts/libprometheus.bash.in (unpack): Restored.
	* scripts/pkgunpack.in (unpack_archives): Restored from pkgadd 0.1.

	* scripts/libprometheus.bash.in (cat_file): Restored.
	* scripts/pkgunpack.in (apply_patches): Restored from pkgadd 0.1.

	* scripts/libprometheus.bash.in (override_var): Fixed quoting buglet.
	* scripts/libprometheus.bash.in (override_array): Fixed quoting buglet.

	* scripts/libprometheus.bash.in (setup_logging): Set $logfile to
	  /dev/null if both logging & terminal output disabled.
	* scripts/libprometheus.bash.in (log): Added.
	* scripts/pkgunpack.in (apply_patches): Added logging to patch command.

2004-07-29 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in (add_profile): Call error instead of
	  failure if profile not found.

	* All files: Changed Gareth Jones' email address to
	  <gareth_jones@users.berlios.de>.

2004-07-24 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in: Added setup_logging, called from
	  open_package.
	* etc/prometheus.conf.in: Added terminal_output.
	* etc/REFERENCE.pkg: Added terminal_output.

	* scripts/pkgunpack.in: Added option parsing loop & recursive calling.

2004-07-23 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/pkgbuild.in: Added usage.

	* scripts/pkgunpack.in: Touched.
	* man/pkgunpack.1.in: Touched.
	* Makefile.defs: Reference to pkgunpack added.

	* scripts/libprometheus.bash.in: Sectioned into function groups.
	  Restored is_set, is_func, override_var, override_array, override_func,
	  stage_overrides, set_directory (formerly pkgdir), prepare_build_env
	  & open_package.

	* etc/prometheus.conf.in: Added logfile (replaces log_build) & check.
	* etc/REFERENCE.pkg: Restored.  Changed dep variable into deps array.
	  Added logfile, check & check_pkg.

2004-07-21 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in: Added terminated function & trap for
	  SIGHUP, SIGINT & SIGQUIT.

2004-07-20 Gareth Jones <gareth_jones@users.berlios.de>

	* Makefile: Added GPL notice.
	* etc/Makefile: Added GPL notice.
	* man/Makefile: Added GPL notice.
	* profiles/Makefile: Added GPL notice.
	* scripts/Makefile: Added GPL notice.
	* scripts/compact.in: Added GPL notice.
	* scripts/pkgadd.in: Added GPL notice.
	* scripts/pkgbuild.in: Added GPL notice.
	* scripts/pkgcheck.in: Added GPL notice.
	* scripts/pkgget.in: Added GPL notice.
	* scripts/pkginfo.in: Added GPL notice.
	* scripts/pkginstall.in: Added GPL notice.
	* scripts/pkgrm.in: Added GPL notice.
	* scripts/libprometheus.bash.in: Added GPL notice, also added brief
	  note to version function output.
	* x86stepping/Makefile: Added GPL notice.
	* x86stepping/x86stepping.c: Added GPL notice.

2004-07-08 Gareth Jones <gareth_jones@users.berlios.de>

	* TODO: Restored & updated.

2004-07-04 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in: Restored temp_file & remove_temp_files.
	  Added call to remove_temp_files to finish.

	* man/Makefile: Fixed installation of prometheus.conf.5.
	* man/prometheus.conf.5.in: Written.

	* etc/prometheus.conf.in: Restored & cxx parameter added.

	* INSTALL: Makefile => Makefile.defs & /etc/pkg => /etc/prometheus.

2004-07-03 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/libprometheus.bash.in: Split find_profiles into find_profiles
	  & add_profile.

	* man/Makefile: Added support for prometheus.conf.5 man page.
	* man/pkgget.1.in: Added reference to prometheus.conf.5.

	* man/pkgget.1.in: Added note about where files are searched for &
	  downloaded to.

	* scripts/compact.in: Renamed option -r -> -R.  Added options: -b --bz2
	  --bzip2 -g --gz --gzip -f --force -r --recompress.  Removed -k
	  --keep.  Rewrote compact_file.
	* man/compact.1.in: Updated to reflect above changes.

2004-07-02 Gareth Jones <gareth_jones@users.berlios.de>

	* man/compact.1.in: Written.

	* scripts/compact.in: Added support for `--' option.

	* scripts/libprometheus.bash.in: Added failure & finish functions.
	* scripts/compact.in: Use failure & finish.

	* scripts/libprometheus.bash.in: Restored get_suffix, location_of,
	  list_files, source_profile, remove_compression_suffix &
	  source_config.  Added find_profiles.
	* scripts/pkgget.in: Restored.
	* man/pkgget.1.in: Written.

2004-07-01 Gareth Jones <gareth_jones@users.berlios.de>

	* profiles/Makefile: Fixed naming of PROFILE_LIST.

2004-06-30 Gareth Jones <gareth_jones@users.berlios.de>

	* scripts/Makefile: Separated rules for executables & library.

	* scripts/compact.in: Written.
	* scripts/libprometheus.bash.in: Restored warning, error, usage_error,
	  script_usage_err & source_file.  Added version.

	* Makefile.defs: Added VERSION & RELEASE variables.
	* man/Makefile: Added preprocessing for man pages.
	* scripts/Makefile:	Added VERSION & RELEASE to preprocessing.

2004-06-29 Gareth Jones <gareth_jones@users.berlios.de>

	* All files: Created new package layout & wrote Makefiles.
	* INSTALL, README, x86stepping/x86stepping.c: Restored.
	* AUTHORS, ChangeLog, COPYING: Added.

Before 2004-06-29 Oliver Brakmann <oliverbrakmann@users.berlios.de> &
Gareth Jones <gareth_jones@users.berlios.de>

	* All files: Created initial pkgtools, renamed to prometheus.  In
	later entries, `restored' refers to files/functions restored to this
	branch from the original prometheus codebase.
